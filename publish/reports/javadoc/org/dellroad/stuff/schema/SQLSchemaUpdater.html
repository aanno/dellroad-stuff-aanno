<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Fri Aug 24 12:21:46 CDT 2012 -->
<TITLE>
SQLSchemaUpdater (Java Class Library API)
</TITLE>

<META NAME="date" CONTENT="2012-08-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="SQLSchemaUpdater (Java Class Library API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SQLSchemaUpdater.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/schema/UpdatingDataSource.html" title="class in org.dellroad.stuff.schema"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/schema/SQLSchemaUpdater.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SQLSchemaUpdater.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.dellroad.stuff.schema</FONT>
<BR>
Class SQLSchemaUpdater</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">org.dellroad.stuff.schema.AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.dellroad.stuff.schema.SQLSchemaUpdater</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../../org/dellroad/stuff/schema/SpringSQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema">SpringSQLSchemaUpdater</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.44"><B>SQLSchemaUpdater</B></A><DT>extends <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</DL>
</PRE>

<P>
Concrete extension of <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>AbstractSchemaUpdater</CODE></A> for SQL databases.

 <p>
 Required properties are the <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setDatabaseInitialization(org.dellroad.stuff.schema.SQLCommandList)">database initialization</A>,
 <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">update table initialization</A>, and the <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#setUpdates(java.util.Collection)">updates</A> themselves.
 </p>

 <p>
 Applied updates are recorded in a special <i>update table</i>, which contains two columns: one for the unique
 <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdate.html#getName()">update name</A> and one for a timestamp. The update table and column names
 are configurable via <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableName(java.lang.String)"><CODE>setUpdateTableName()</CODE></A>,
 <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableNameColumn(java.lang.String)"><CODE>setUpdateTableNameColumn()</CODE></A>, and <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableTimeColumn(java.lang.String)"><CODE>setUpdateTableTimeColumn()</CODE></A>.
 </p>

 <p>
 By default, this class detects a completely uninitialized database by the absence of the update table itself
 in the schema (see <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#databaseNeedsInitialization(java.sql.Connection)"><CODE>databaseNeedsInitialization()</CODE></A>).
 When an uninitialized database is encountered, the configured <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setDatabaseInitialization(org.dellroad.stuff.schema.SQLCommandList)">database initialization</A>
 and <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">update table initialization</A> actions are applied first to initialize
 the database schema.
 </p>
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#DEFAULT_UPDATE_TABLE_NAME">DEFAULT_UPDATE_TABLE_NAME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default nefault name of the table that tracks schema updates, <code>"SchemaUpdate"</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#DEFAULT_UPDATE_TABLE_NAME_COLUMN">DEFAULT_UPDATE_TABLE_NAME_COLUMN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default name of the column in the updates table holding the unique update name, <code>"updateName"</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#DEFAULT_UPDATE_TABLE_TIME_COLUMN">DEFAULT_UPDATE_TABLE_TIME_COLUMN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Default name of the column in the updates table holding the update's time applied, <code>"updateTime"</code>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.dellroad.stuff.schema.AbstractSchemaUpdater"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class org.dellroad.stuff.schema.<A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#log">log</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#SQLSchemaUpdater()">SQLSchemaUpdater</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#apply(java.sql.Connection, org.dellroad.stuff.schema.DatabaseAction)">apply</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c,
           <A HREF="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema">DatabaseAction</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;&nbsp;action)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Execute a database action within an existing transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#commitTransaction(java.sql.Connection)">commitTransaction</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Commit a previously opened transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#databaseNeedsInitialization(java.sql.Connection)">databaseNeedsInitialization</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine if the database needs initialization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#getAppliedUpdateNames(java.sql.Connection)">getAppliedUpdateNames</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine which updates have already been applied.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#getDatabaseInitialization()">getDatabaseInitialization</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the empty database initialization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#getUpdateTableInitialization()">getUpdateTableInitialization</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the update table initialization.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#getUpdateTableName()">getUpdateTableName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the name of the table that keeps track of applied updates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#getUpdateTableNameColumn()">getUpdateTableNameColumn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the name of the update name column in the table that keeps track of applied updates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#getUpdateTableTimeColumn()">getUpdateTableTimeColumn</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the name of the update timestamp column in the table that keeps track of applied updates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#indicatesUninitializedDatabase(java.sql.Connection, java.sql.SQLException)">indicatesUninitializedDatabase</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c,
                                                             <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A>&nbsp;e)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine if an exception thrown during <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#databaseNeedsInitialization(java.sql.Connection)"><CODE>databaseNeedsInitialization(java.sql.Connection)</CODE></A> is consistent with
 an uninitialized database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#initializeAndUpdateDatabase(javax.sql.DataSource)">initializeAndUpdateDatabase</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>&nbsp;dataSource)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perform database schema initialization and updates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#initializeDatabase(java.sql.Connection)">initializeDatabase</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize an uninitialized database.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#openTransaction(javax.sql.DataSource)">openTransaction</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>&nbsp;dataSource)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Begin a transaction on the given connection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#recordUpdateApplied(java.sql.Connection, java.lang.String)">recordUpdateApplied</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c,
                                       <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Record an update as having been applied.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#rollbackTransaction(java.sql.Connection)">rollbackTransaction</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Roll back a previously opened transaction.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setDatabaseInitialization(org.dellroad.stuff.schema.SQLCommandList)">setDatabaseInitialization</A></B>(<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A>&nbsp;databaseInitialization)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure how an empty database gets initialized.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">setUpdateTableInitialization</A></B>(<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A>&nbsp;updateTableInitialization)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configure how the update table itself gets initialized.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableName(java.lang.String)">setUpdateTableName</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateTableName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the name of the table that keeps track of applied updates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableNameColumn(java.lang.String)">setUpdateTableNameColumn</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateTableNameColumn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the name of the update name column in the table that keeps track of applied updates.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableTimeColumn(java.lang.String)">setUpdateTableTimeColumn</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateTableTimeColumn)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the name of the update timestamp column in the table that keeps track of applied updates.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.dellroad.stuff.schema.AbstractSchemaUpdater"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.dellroad.stuff.schema.<A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#applyInTransaction(D, org.dellroad.stuff.schema.DatabaseAction)">applyInTransaction</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#generateMultiUpdateName(org.dellroad.stuff.schema.SchemaUpdate, int)">generateMultiUpdateName</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getAllUpdateNames()">getAllUpdateNames</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getOrderingTieBreaker()">getOrderingTieBreaker</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getUpdates()">getUpdates</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#isIgnoreUnrecognizedUpdates()">isIgnoreUnrecognizedUpdates</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#isValidUpdateName(java.lang.String)">isValidUpdateName</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#setIgnoreUnrecognizedUpdates(boolean)">setIgnoreUnrecognizedUpdates</A>, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#setUpdates(java.util.Collection)">setUpdates</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DEFAULT_UPDATE_TABLE_NAME"><!-- --></A><H3>
DEFAULT_UPDATE_TABLE_NAME</H3>
<PRE>
public static final <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.49"><B>DEFAULT_UPDATE_TABLE_NAME</B></A></PRE>
<DL>
<DD>Default nefault name of the table that tracks schema updates, <code>"SchemaUpdate"</code>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.dellroad.stuff.schema.SQLSchemaUpdater.DEFAULT_UPDATE_TABLE_NAME">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DEFAULT_UPDATE_TABLE_NAME_COLUMN"><!-- --></A><H3>
DEFAULT_UPDATE_TABLE_NAME_COLUMN</H3>
<PRE>
public static final <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.54"><B>DEFAULT_UPDATE_TABLE_NAME_COLUMN</B></A></PRE>
<DL>
<DD>Default name of the column in the updates table holding the unique update name, <code>"updateName"</code>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.dellroad.stuff.schema.SQLSchemaUpdater.DEFAULT_UPDATE_TABLE_NAME_COLUMN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="DEFAULT_UPDATE_TABLE_TIME_COLUMN"><!-- --></A><H3>
DEFAULT_UPDATE_TABLE_TIME_COLUMN</H3>
<PRE>
public static final <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.59"><B>DEFAULT_UPDATE_TABLE_TIME_COLUMN</B></A></PRE>
<DL>
<DD>Default name of the column in the updates table holding the update's time applied, <code>"updateTime"</code>.
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../constant-values.html#org.dellroad.stuff.schema.SQLSchemaUpdater.DEFAULT_UPDATE_TABLE_TIME_COLUMN">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="SQLSchemaUpdater()"><!-- --></A><H3>
SQLSchemaUpdater</H3>
<PRE>
public <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.44"><B>SQLSchemaUpdater</B></A>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getUpdateTableName()"><!-- --></A><H3>
getUpdateTableName</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.73"><B>getUpdateTableName</B></A>()</PRE>
<DL>
<DD>Get the name of the table that keeps track of applied updates.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableName(java.lang.String)"><CODE>setUpdateTableName()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setUpdateTableName(java.lang.String)"><!-- --></A><H3>
setUpdateTableName</H3>
<PRE>
public void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.84"><B>setUpdateTableName</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateTableName)</PRE>
<DL>
<DD>Set the name of the table that keeps track of applied updates.
 Default value is <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#DEFAULT_UPDATE_TABLE_NAME"><CODE>DEFAULT_UPDATE_TABLE_NAME</CODE></A>.

 <p>
 This name must be consistent with the <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">update table initialization</A>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUpdateTableNameColumn()"><!-- --></A><H3>
getUpdateTableNameColumn</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.93"><B>getUpdateTableNameColumn</B></A>()</PRE>
<DL>
<DD>Get the name of the update name column in the table that keeps track of applied updates.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableNameColumn(java.lang.String)"><CODE>setUpdateTableNameColumn()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setUpdateTableNameColumn(java.lang.String)"><!-- --></A><H3>
setUpdateTableNameColumn</H3>
<PRE>
public void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.104"><B>setUpdateTableNameColumn</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateTableNameColumn)</PRE>
<DL>
<DD>Set the name of the update name column in the table that keeps track of applied updates.
 Default value is <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#DEFAULT_UPDATE_TABLE_NAME_COLUMN"><CODE>DEFAULT_UPDATE_TABLE_NAME_COLUMN</CODE></A>.

 <p>
 This name must be consistent with the <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">update table initialization</A>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUpdateTableTimeColumn()"><!-- --></A><H3>
getUpdateTableTimeColumn</H3>
<PRE>
public <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.113"><B>getUpdateTableTimeColumn</B></A>()</PRE>
<DL>
<DD>Get the name of the update timestamp column in the table that keeps track of applied updates.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableTimeColumn(java.lang.String)"><CODE>setUpdateTableTimeColumn()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setUpdateTableTimeColumn(java.lang.String)"><!-- --></A><H3>
setUpdateTableTimeColumn</H3>
<PRE>
public void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.124"><B>setUpdateTableTimeColumn</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateTableTimeColumn)</PRE>
<DL>
<DD>Set the name of the update timestamp column in the table that keeps track of applied updates.
 Default value is <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#DEFAULT_UPDATE_TABLE_TIME_COLUMN"><CODE>DEFAULT_UPDATE_TABLE_TIME_COLUMN</CODE></A>.

 <p>
 This name must be consistent with the <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">update table initialization</A>.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUpdateTableInitialization()"><!-- --></A><H3>
getUpdateTableInitialization</H3>
<PRE>
public <A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.133"><B>getUpdateTableInitialization</B></A>()</PRE>
<DL>
<DD>Get the update table initialization.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)"><CODE>setUpdateTableInitialization()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)"><!-- --></A><H3>
setUpdateTableInitialization</H3>
<PRE>
public void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.170"><B>setUpdateTableInitialization</B></A>(<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A>&nbsp;updateTableInitialization)</PRE>
<DL>
<DD>Configure how the update table itself gets initialized. This update is run when no update table found,
 which (we assume) implies an empty database with no tables or content. This is a required property.

 <p>
 This initialization should create the update table where the name column is the primary key.
 The name column must have a length limit greater than or equal to the longest schema update name.

 <p>
 The table and column names must be consistent with the values configured via
 <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableName(java.lang.String)"><CODE>setUpdateTableName()</CODE></A>, <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableNameColumn(java.lang.String)"><CODE>setUpdateTableNameColumn()</CODE></A>,
 and <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableTimeColumn(java.lang.String)"><CODE>setUpdateTableTimeColumn()</CODE></A>.

 <p>
 For convenience, pre-defined initialization scripts using the default table and column names are available
 at the following resource locations. These can be used to configure a <A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema"><CODE>SQLCommandList</CODE></A>:
 <table border="1" cellspacing="0" cellpadding="4">
 <tr>
 <th>Database</th>
 <th>Resource</th>
 </tr>
 <tr>
 </tr>
 <td>MySQL (InnoDB)</td>
 <td><code>classpath:org/dellroad/stuff/schema/updateTable-mysql.sql</code></td>
 </tr>
 </table>
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>updateTableInitialization</CODE> - update table schema initialization<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableName(java.lang.String)"><CODE>setUpdateTableName()</CODE></A>, 
<A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableNameColumn(java.lang.String)"><CODE>setUpdateTableNameColumn()</CODE></A>, 
<A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableTimeColumn(java.lang.String)"><CODE>setUpdateTableTimeColumn()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getDatabaseInitialization()"><!-- --></A><H3>
getDatabaseInitialization</H3>
<PRE>
public <A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.179"><B>getDatabaseInitialization</B></A>()</PRE>
<DL>
<DD>Get the empty database initialization.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setDatabaseInitialization(org.dellroad.stuff.schema.SQLCommandList)"><CODE>setDatabaseInitialization()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setDatabaseInitialization(org.dellroad.stuff.schema.SQLCommandList)"><!-- --></A><H3>
setDatabaseInitialization</H3>
<PRE>
public void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.202"><B>setDatabaseInitialization</B></A>(<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema">SQLCommandList</A>&nbsp;databaseInitialization)</PRE>
<DL>
<DD>Configure how an empty database gets initialized. This is a required property.

 <p>
 This update is run when no update table found, which (we assume) implies an empty database with no tables or content.
 Typically this contains the SQL script that gets automatically generated by your favorite schema generation tool.

 <p>
 This script is expected to initialize the database schema (i.e., creating all the tables) so that
 when completed the database is "up to date" with respect to the configured schema updates.
 That is, when this action completes, we assume all updates have already been (implicitly) applied
 (and they will be recorded as such).

 <p>
 Note this script is <i>not</i> expected to create the update table that tracks schema updates;
 that function is handled by the <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">update table initialization</A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>databaseInitialization</CODE> - application database schema initialization</DL>
</DD>
</DL>
<HR>

<A NAME="apply(java.sql.Connection, org.dellroad.stuff.schema.DatabaseAction)"><!-- --></A><H3>
apply</H3>
<PRE>
protected void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.207"><B>apply</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c,
                     <A HREF="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema">DatabaseAction</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;&nbsp;action)
              throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#apply(T, org.dellroad.stuff.schema.DatabaseAction)">AbstractSchemaUpdater</A></CODE></B></DD>
<DD>Execute a database action within an existing transaction.

 <p>
 All database operations in <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>AbstractSchemaUpdater</CODE></A> are performed via this method;
 subclasses are encouraged to follow this pattern.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>AbstractSchemaUpdater</CODE></A> simply invokes <A HREF="../../../../org/dellroad/stuff/schema/DatabaseAction.html#apply(T)"><CODE>action.apply()</CODE></A>;
 subclasses may override if desired.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#apply(T, org.dellroad.stuff.schema.DatabaseAction)">apply</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initializeAndUpdateDatabase(javax.sql.DataSource)"><!-- --></A><H3>
initializeAndUpdateDatabase</H3>
<PRE>
public void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.230"><B>initializeAndUpdateDatabase</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>&nbsp;dataSource)
                                 throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeAndUpdateDatabase(D)">AbstractSchemaUpdater</A></CODE></B></DD>
<DD>Perform database schema initialization and updates.

 <p>
 This method applies the following logic: if the <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#databaseNeedsInitialization(T)">database needs initialization</A>,
 then <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeDatabase(T)">initialize the database</A> and <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#recordUpdateApplied(T, java.lang.String)">record</A> each update
 as having been applied; otherwise, <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#apply(T, org.dellroad.stuff.schema.DatabaseAction)">apply</A> any <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getAppliedUpdateNames(T)">unapplied updates</A>
 as needed.

 <p>
 Note this implies the database initialization must initialize the database to its current, up-to-date state
 (with respect to the set of all available updates), not its original, pre-update state.

 <p>
 The database initialization step, and each of the update steps, is <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#applyInTransaction(D, org.dellroad.stuff.schema.DatabaseAction)">performed within
 its own transaction</A>.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeAndUpdateDatabase(D)">initializeAndUpdateDatabase</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataSource</CODE> - the database to initialize (if necessary) and update
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Exception.html?is-external=true" title="class or interface in java.lang">Exception</A></CODE> - if an update fails
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the database needs initialization and either the
  <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setDatabaseInitialization(org.dellroad.stuff.schema.SQLCommandList)">database initialization</A> or
  the <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#setUpdateTableInitialization(org.dellroad.stuff.schema.SQLCommandList)">update table initialization</A> has not been configured
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if this instance is not configured to <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#setIgnoreUnrecognizedUpdates(boolean)">ignore
 unrecognized updates</A> and an unrecognized update has already been applied
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if any configured update has a required predecessor which is not also a configured update
  (i.e., if the updates are not transitively closed under predecessors)
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="openTransaction(javax.sql.DataSource)"><!-- --></A><H3>
openTransaction</H3>
<PRE>
protected <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A> <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.255"><B>openTransaction</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>&nbsp;dataSource)
                              throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Begin a transaction on the given connection.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SQLSchemaUpdater</CODE></A> creates a serializable-level transaction.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#openTransaction(D)">openTransaction</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>dataSource</CODE> - the database on which to open the transaction
<DT><B>Returns:</B><DD>new <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql"><CODE>Connection</CODE></A> with an open transaction
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if an error occurs while accessing the database</DL>
</DD>
</DL>
<HR>

<A NAME="commitTransaction(java.sql.Connection)"><!-- --></A><H3>
commitTransaction</H3>
<PRE>
protected void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.272"><B>commitTransaction</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)
                          throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Commit a previously opened transaction.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SQLSchemaUpdater</CODE></A> just invokes <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true#commit()" title="class or interface in java.sql"><CODE>Connection.commit()</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#commitTransaction(T)">commitTransaction</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - the connection on which to commit the transaction
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if an error occurs while accessing the database</DL>
</DD>
</DL>
<HR>

<A NAME="rollbackTransaction(java.sql.Connection)"><!-- --></A><H3>
rollbackTransaction</H3>
<PRE>
protected void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.288"><B>rollbackTransaction</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)
                            throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Roll back a previously opened transaction.
 This method will also be invoked if <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#commitTransaction(java.sql.Connection)"><CODE>commitTransaction()</CODE></A> throws an exception.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SQLSchemaUpdater</CODE></A> just invokes <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true#rollback()" title="class or interface in java.sql"><CODE>Connection.rollback()</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#rollbackTransaction(T)">rollbackTransaction</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - the connection on which to roll back the transaction
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if an error occurs while accessing the database</DL>
</DD>
</DL>
<HR>

<A NAME="databaseNeedsInitialization(java.sql.Connection)"><!-- --></A><H3>
databaseNeedsInitialization</H3>
<PRE>
protected boolean <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.305"><B>databaseNeedsInitialization</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)
                                       throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Determine if the database needs initialization.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SQLSchemaUpdater</CODE></A> simply invokes <code>SELECT COUNT(*) FROM <i>UPDATETABLE</i></code>
 and checks for success or failure. If an exception is thrown, <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#indicatesUninitializedDatabase(java.sql.Connection, java.sql.SQLException)"><CODE>indicatesUninitializedDatabase(java.sql.Connection, java.sql.SQLException)</CODE></A> is used
 to distinguish between an exception caused by an uninitialized database and a truly unexpected one.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#databaseNeedsInitialization(T)">databaseNeedsInitialization</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - connection to the database
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if an unexpected error occurs while accessing the database</DL>
</DD>
</DL>
<HR>

<A NAME="indicatesUninitializedDatabase(java.sql.Connection, java.sql.SQLException)"><!-- --></A><H3>
indicatesUninitializedDatabase</H3>
<PRE>
protected boolean <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.352"><B>indicatesUninitializedDatabase</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c,
                                                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A>&nbsp;e)
                                          throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Determine if an exception thrown during <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#databaseNeedsInitialization(java.sql.Connection)"><CODE>databaseNeedsInitialization(java.sql.Connection)</CODE></A> is consistent with
 an uninitialized database.

 <p>
 This should return true if the exception would be thrown by an SQL query that attempts to access a non-existent table.
 For exceptions thrown by other causes, this should return false.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SQLSchemaUpdater</CODE></A> always returns true. Subclasses are encouraged to override
 with a more precise implementation.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - connection on which the exception occurred<DD><CODE>e</CODE> - exception thrown during database access in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#databaseNeedsInitialization(java.sql.Connection)"><CODE>databaseNeedsInitialization(java.sql.Connection)</CODE></A>
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if an error occurs<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html#databaseNeedsInitialization(java.sql.Connection)"><CODE>databaseNeedsInitialization(java.sql.Connection)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="recordUpdateApplied(java.sql.Connection, java.lang.String)"><!-- --></A><H3>
recordUpdateApplied</H3>
<PRE>
protected void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.370"><B>recordUpdateApplied</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c,
                                   <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;updateName)
                            throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Record an update as having been applied.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SQLSchemaUpdater</CODE></A> does the standard JDBC thing using an INSERT statement
 into the update table.
 </p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#recordUpdateApplied(T, java.lang.String)">recordUpdateApplied</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - SQL connection<DD><CODE>updateName</CODE> - update name
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - if the update has already been recorded in the database
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if an error occurs while accessing the database</DL>
</DD>
</DL>
<HR>

<A NAME="getAppliedUpdateNames(java.sql.Connection)"><!-- --></A><H3>
getAppliedUpdateNames</H3>
<PRE>
protected <A HREF="http://download.oracle.com/javase/6/docs/api/java/util/Set.html?is-external=true" title="class or interface in java.util">Set</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&gt; <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.399"><B>getAppliedUpdateNames</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)
                                     throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD>Determine which updates have already been applied.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/schema/SQLSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SQLSchemaUpdater</CODE></A> does the standard JDBC thing using a SELECT statement
 from the update table.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#getAppliedUpdateNames(T)">getAppliedUpdateNames</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - open transaction
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE> - if an error occurs while accessing the database</DL>
</DD>
</DL>
<HR>

<A NAME="initializeDatabase(java.sql.Connection)"><!-- --></A><H3>
initializeDatabase</H3>
<PRE>
protected void <A HREF="../../../../src-html/org/dellroad/stuff/schema/SQLSchemaUpdater.html#line.418"><B>initializeDatabase</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&nbsp;c)
                           throws <A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeDatabase(T)">AbstractSchemaUpdater</A></CODE></B></DD>
<DD>Initialize an uninitialized database. This should create and initialize the database schema and content,
 including whatever portion of that is used to track schema updates.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html#initializeDatabase(T)">initializeDatabase</A></CODE> in class <CODE><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdater.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdater</A>&lt;<A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql">DataSource</A>,<A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/Connection.html?is-external=true" title="class or interface in java.sql">Connection</A>&gt;</CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>c</CODE> - open transaction
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/sql/SQLException.html?is-external=true" title="class or interface in java.sql">SQLException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/SQLSchemaUpdater.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/dellroad/stuff/schema/SQLCommandList.html" title="class in org.dellroad.stuff.schema"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/schema/UpdatingDataSource.html" title="class in org.dellroad.stuff.schema"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/schema/SQLSchemaUpdater.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="SQLSchemaUpdater.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
