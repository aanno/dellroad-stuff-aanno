<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_18) on Mon Apr 25 13:37:47 CDT 2011 -->
<TITLE>
org.dellroad.stuff.schema (Java Class Library API)
</TITLE>

<META NAME="date" CONTENT="2011-04-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="org.dellroad.stuff.schema (Java Class Library API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/dellroad/stuff/net/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/servlet/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/schema/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<H2>
Package org.dellroad.stuff.schema
</H2>
Classes supporting automated database schema management.
<P>
<B>See:</B>
<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<A HREF="#package_description"><B>Description</B></A>
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Interface Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema">DatabaseAction</A></B></TD>
<TD>Database action interface.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/ModifiableSchemaUpdate.html" title="interface in org.dellroad.stuff.schema">ModifiableSchemaUpdate</A></B></TD>
<TD>Extension of the <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><CODE>SchemaUpdate</CODE></A> interface with modifiable properties name and predecessor properties.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema">SchemaUpdate</A></B></TD>
<TD>A database update.</TD>
</TR>
</TABLE>
&nbsp;

<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdate.html" title="class in org.dellroad.stuff.schema">AbstractSchemaUpdate</A></B></TD>
<TD>Support superclass for <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><CODE>SchemaUpdate</CODE></A>s implementations providing standard Java bean property
 implementations of <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdate.html#getName()"><CODE>AbstractSchemaUpdate.getName()</CODE></A> and <A HREF="../../../../org/dellroad/stuff/schema/AbstractSchemaUpdate.html#getRequiredPredecessors()"><CODE>AbstractSchemaUpdate.getRequiredPredecessors()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/AbstractSpringSchemaUpdate.html" title="class in org.dellroad.stuff.schema">AbstractSpringSchemaUpdate</A></B></TD>
<TD>Support superclass for <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><CODE>SchemaUpdate</CODE></A>s declared in Spring <A HREF="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/BeanFactory.html?is-external=true" title="class or interface in org.springframework.beans.factory"><CODE>BeanFactory</CODE></A>s that infer their update
 name and required predecessors from their Spring bean attributes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/AbstractUpdatingDataSource.html" title="class in org.dellroad.stuff.schema">AbstractUpdatingDataSource</A></B></TD>
<TD>A <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> that wraps an inner <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> and automatically performs some update
 operation on the inner <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> on first access.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/ActionUtils.html" title="class in org.dellroad.stuff.schema">ActionUtils</A></B></TD>
<TD>Database utility methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/DelegatingSchemaUpdate.html" title="class in org.dellroad.stuff.schema">DelegatingSchemaUpdate</A></B></TD>
<TD>A <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><CODE>SchemaUpdate</CODE></A> that performs its update using a configured <A HREF="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema"><CODE>DatabaseAction</CODE></A> delegate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdateEdgeLister.html" title="class in org.dellroad.stuff.schema">SchemaUpdateEdgeLister</A></B></TD>
<TD><A HREF="../../../../org/dellroad/stuff/graph/TopologicalSorter.EdgeLister.html" title="interface in org.dellroad.stuff.graph"><CODE>TopologicalSorter.EdgeLister</CODE></A> implementation reflecting <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdate.html" title="interface in org.dellroad.stuff.schema"><CODE>SchemaUpdate</CODE></A> predecessor constraints.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdater.html" title="class in org.dellroad.stuff.schema">SchemaUpdater</A></B></TD>
<TD>Database schema updater that manages initializing and updates to a database schema.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdatingDataSource.html" title="class in org.dellroad.stuff.schema">SchemaUpdatingDataSource</A></B></TD>
<TD>A <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> that wraps an inner <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> and automatically intializes and updates
 the database schema using a <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SchemaUpdater</CODE></A> on first access.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/SpringDelegatingSchemaUpdate.html" title="class in org.dellroad.stuff.schema">SpringDelegatingSchemaUpdate</A></B></TD>
<TD>Spring-enabled version of <A HREF="../../../../org/dellroad/stuff/schema/DelegatingSchemaUpdate.html" title="class in org.dellroad.stuff.schema"><CODE>DelegatingSchemaUpdate</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/SpringSchemaUpdater.html" title="class in org.dellroad.stuff.schema">SpringSchemaUpdater</A></B></TD>
<TD><A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SchemaUpdater</CODE></A> optimized for use with Spring.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/SQLDatabaseAction.html" title="class in org.dellroad.stuff.schema">SQLDatabaseAction</A></B></TD>
<TD>A <A HREF="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema"><CODE>DatabaseAction</CODE></A> that executes a configured SQL script.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="15%"><B><A HREF="../../../../org/dellroad/stuff/schema/UpdatingDataSource.html" title="class in org.dellroad.stuff.schema">UpdatingDataSource</A></B></TD>
<TD>A <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> that wraps an inner <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> and automatically applies a configured
 <A HREF="../../../../org/dellroad/stuff/schema/DatabaseAction.html" title="interface in org.dellroad.stuff.schema"><CODE>DatabaseAction</CODE></A> on first access.</TD>
</TR>
</TABLE>
&nbsp;

<P>
<A NAME="package_description"><!-- --></A><H2>
Package org.dellroad.stuff.schema Description
</H2>

<P>
Classes supporting automated database schema management.

 <p>
 Features include:
  <ul>
  <li>Automatic initialization of the database schema when the application runs for the first time</li>
  <li>Automatic application of database schema updates as needed during each application startup cycle</li>
  <li>Automated tracking and constraint-based ordering of schema updates supporting multiple code branches</li>
  <li>Integration with <a href="http://www.springframework.org/">Spring</a> allowing simple XML declaration of updates</li>
  <li>An <a href="http://ant.apache.org/">ant</a> task that verifies schema update correctness</li>
  </ul>
 </p>

 <p>
 See <A HREF="../../../../org/dellroad/stuff/schema/SpringSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SpringSchemaUpdater</CODE></A> for an example of how to declare your
 <A HREF="http://download.oracle.com/javase/6/docs/api/javax/sql/DataSource.html?is-external=true" title="class or interface in javax.sql"><CODE>DataSource</CODE></A> and associated schema updates in a Spring application context.
 </p>

 <p>
 Updates may have ordering constraints, and these should be declared explicitly. Once you have done so, then
 you may safely "cherry pick" individual schema updates for merging into different code branches without worrying
 whether the schema will get messed up, because any ordering constraint violations will be detected automatically.
 This verification step is required to detect inconsistencies between the updates and the current code.
 </p>

 <p>
 See DellRoad Stuff's <a href="/svn/trunk/src/build/macros.xml">ant macros</a> for the <code>schemacheck</code>
 ant macro that can be used to verify that your delcared schema updates, when applied to the original schema,
 yield the expected result (which is typically generated automatically by your schema generation tool from
 your current code). It is also a good idea to compare your generated shema matches to an expected result
 during each build to detect schema changes caused by e.g., inadvertent changes to model classes.
 </p>

 <p>
 The central classes are <A HREF="../../../../org/dellroad/stuff/schema/SchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SchemaUpdater</CODE></A> and
 <A HREF="../../../../org/dellroad/stuff/schema/SpringSchemaUpdater.html" title="class in org.dellroad.stuff.schema"><CODE>SpringSchemaUpdater</CODE></A>.
 </p>
<P>

<P>
<DL>
</DL>
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Package</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-use.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/dellroad/stuff/net/package-summary.html"><B>PREV PACKAGE</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/servlet/package-summary.html"><B>NEXT PACKAGE</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/schema/package-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="package-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
