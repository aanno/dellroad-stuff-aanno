<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Fri Aug 24 12:21:45 CDT 2012 -->
<TITLE>
IdMapper (Java Class Library API)
</TITLE>

<META NAME="date" CONTENT="2012-08-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="IdMapper (Java Class Library API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/IdMapper.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/jibx/IdMappingMarshaller.html" title="class in org.dellroad.stuff.jibx"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/jibx/IdMapper.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IdMapper.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.dellroad.stuff.jibx</FONT>
<BR>
Class IdMapper</H2>
<PRE>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true" title="class or interface in org.jibx.extras">org.jibx.extras.IdDefRefMapperBase</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.dellroad.stuff.jibx.IdMapper</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/IAliasable.html?is-external=true" title="class or interface in org.jibx.runtime">IAliasable</A>, <A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/IMarshaller.html?is-external=true" title="class or interface in org.jibx.runtime">IMarshaller</A>, <A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/IUnmarshaller.html?is-external=true" title="class or interface in org.jibx.runtime">IUnmarshaller</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.211"><B>IdMapper</B></A><DT>extends <A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true" title="class or interface in org.jibx.extras">IdDefRefMapperBase</A></DL>
</PRE>

<P>
JiBX Marshaller/Unmarshaller that assigns unique ID's to each object and
 replaces duplicate appearances of the same object with an IDREF reference.

 <p>
 This class allows for easy ID/IDREF handling for existing classes, with minimal
 modifications to those classes and no custom (un)marshaller subclasses.

 <h3>JiBX Mapping</h3>

 <p>
 Suppose you have a class <code>Person.java</code> with a single <code>name</code> property
 and you want to add ID/IDREF support to it.

 <p>
 First add the following two pseudo-bean property methods to the classes:

 <blockquote><pre>
  import org.dellroad.stuff.jibx.IdMapper;

  public class Person {

      private String name;

      public String getName() {
          return this.name;
      }
      public void setName(String name) {
          this.name = name;
      }

      <b>// JiBX methods
      private String getJiBXId() {
          return IdMapper.getId(this);
      }
      private void setJiBXId(String id) {
          // do nothing
      }</b>
  }
 </pre></blockquote>
 Note: if you subclass <code>Person.java</code> from a different sub-package, you may need
 to change the access privileges of those methods from <code>private</code> to <code>protected</code>.
 </p>

 <p>
 Next, define a concrete mapping for <code>Person.java</code> and add the <code>id</code> attribute:
 <blockquote><pre>
  &lt;mapping name="Person" class="com.example.Person"&gt;
      <b>&lt;value name="id" style="attribute" ident="def"
        get-method="getJiBXId" set-method="setJiBXId"/&gt;</b>
      &lt;value name="name" field="name"/&gt;
  &lt;/mapping&gt;
 </pre></blockquote>
 </p>

 <p>
 Finally, use <A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html" title="class in org.dellroad.stuff.jibx"><CODE>IdMapper</CODE></A> as the custom marshaller and unmarshaller wherever a <code>Person</code> appears, e.g.:
 <blockquote><pre>
  &lt;mapping name="Company" class="com.example.Company"&gt;
      &lt;collection name="Employees" field="employees" create-type="java.util.ArrayList"&gt;
          &lt;structure name="Person" type="com.example.Person"
            <b>marshaller="org.dellroad.stuff.jibx.IdMapper"
            unmarshaller="org.dellroad.stuff.jibx.IdMapper"</b>/&gt;
      &lt;/collection&gt;
      &lt;structure name="EmployeeOfTheWeek"&gt;
          &lt;structure name="Person" field="employeeOfTheWeek"
            <b>marshaller="org.dellroad.stuff.jibx.IdMapper"
            unmarshaller="org.dellroad.stuff.jibx.IdMapper"</b>/&gt;
      &lt;/structure&gt;
  &lt;/mapping&gt;
 </pre></blockquote>
 Note the <code>EmployeeOfTheWeek</code> "wrapper" element for the <code>employeeOfTheWeek</code> field; this is required
 in order to use an XML name for this field other than <code>Person</code> (see limitations below).
 </p>

 <p>
 Now the first appearance of any <code>Person</code> will contain the full XML structure with an additional <code>id="..."</code>
 attribute, while all subsequent appearances will contain just a reference of the form <code>&lt;Person idref="..."/&gt;</code>.
 Conversely, when unmarshalled all <code>Person</code> XML elements that refer to the same original <code>Person</code> will
 re-use the same unmarshalled <code>Person</code> object.
 </p>

 <p>
 So the resulting XML might look like:
 <blockquote><pre>
  &lt;Company&gt;
      &lt;Employees&gt;
          &lt;Person id="N00001"&gt;
              &lt;name&gt;Aardvark, Annie&lt;/name&gt;
          &lt;/Person&gt;
          &lt;Person id="N00002"&gt;
              &lt;name&gt;Appleby, Arnold&lt;/name&gt;
          &lt;/Person&gt;
          ...
      &lt;/Employees&gt;
      &lt;EmployeeOfTheWeek&gt;
          &lt;Person idref="N00001"/&gt;
      &lt;/EmployeeOfTheWeek&gt;
  &lt;/Company&gt;
 </pre></blockquote>
 </p>

 <h3>Limitations</h3>

 <p>
 JiBX and this class impose some limitations:
 <ul>
 <li>JiBX marshalling must be performed within an invocation of <A HREF="../../../../org/dellroad/stuff/java/IdGenerator.html#run(java.lang.Runnable)"><CODE>IdGenerator.run()</CODE></A>
      so that an <A HREF="../../../../org/dellroad/stuff/java/IdGenerator.html" title="class in org.dellroad.stuff.java"><CODE>IdGenerator</CODE></A> is available to generate the unique IDs (when using Spring, consider using
      <A HREF="../../../../org/dellroad/stuff/jibx/IdMappingMarshaller.html" title="class in org.dellroad.stuff.jibx"><CODE>IdMappingMarshaller</CODE></A>; otherwise, the <A HREF="../../../../org/dellroad/stuff/jibx/JiBXUtil.html" title="class in org.dellroad.stuff.jibx"><CODE>JiBXUtil</CODE></A> methods all satisfy this requirement).</li>
 <li>Classes that use ID/IDREF must have concrete JiBX mappings.</li>
 <li>All occurences of the class must use the XML element name of the concrete mapping, so the use of
      a "wrapper" element is required when a different element name is desired.</li>
 </ul>

 <h3>A Simpler Approach</h3>

 The above approach is useful when you don't want to keep track of which instance of an object will appear first
 in the XML encoding: the first one will always fully define the object, while subsequent ones will just reference it.

 <p>
 If this flexibility is not needed, i.e., if you can identify where in your mapping the first occurrence of an object
 will appear, then the following simpler approach works without the above approach's limitations (other than requiring
 that marshalling be peformed within an invocation of <A HREF="../../../../org/dellroad/stuff/java/IdGenerator.html#run(java.lang.Runnable)"><CODE>IdGenerator.run()</CODE></A>):

 <p>
 First, replace the <code>// do nothing</code> in the example above with call to <A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#setId(java.lang.Object, java.lang.String)"><CODE>IdMapper.setId()</CODE></A>,
 and add a custom deserializer delegating to <A HREF="../../../../org/dellroad/stuff/jibx/ParseUtil.html#deserializeReference(java.lang.String, java.lang.Class)"><CODE>ParseUtil.deserializeReference()</CODE></A> to
 <blockquote><pre>
      private void setJiBXId(String id) {
          IdMapper.setId(this, id);
      }

      public static Employee deserializeEmployeeReference(String string) throws JiBXParseException {
          return ParseUtil.deserializeReference(string, Employee.class);
      }
 </pre></blockquote>
 </p>

 <p>
 Then, map the first occurrence of an object exactly as in the concrete mapping above, exposing the <code>JiBXId</code> property.
 In all subsequent occurrences of the object, expose the reference to the object as a simple property using the custom
 serializer/deserializer pair <A HREF="../../../../org/dellroad/stuff/jibx/ParseUtil.html#serializeReference(java.lang.Object)"><CODE>ParseUtil.serializeReference()</CODE></A> and
 <code>Employee.deserializeEmployeeReference()</code>.
 </p>

 <p>
 For example, the following binding would yeild the same XML encoding as before:
 <blockquote><pre>
  &lt;mapping abstract="true" type-name="person" class="com.example.Person"&gt;
      <b>&lt;value name="id" style="attribute" get-method="getJiBXId" set-method="setJiBXId"/&gt;</b>
      &lt;value name="name" field="name"/&gt;
  &lt;/mapping&gt;

  &lt;mapping name="Company" class="com.example.Company"&gt;
      &lt;collection name="Employees" field="employees" create-type="java.util.ArrayList"&gt;
          &lt;structure name="Person" map-as="person"/&gt;    &lt;!-- first occurences of all these objects --&gt;
      &lt;/collection&gt;
      &lt;structure name="EmployeeOfTheWeek"&gt;
          &lt;structure name="Person"&gt;
              <b>&lt;value name="idref" style="attribute" field="employeeOfTheWeek"
                serializer="org.dellroad.stuff.jibx.ParseUtil.serializeReference"
                deserializer="com.example.Employee.deserializeEmployeeReference"</b>/&gt;
          &lt;/structure&gt;
      &lt;/structure&gt;
  &lt;/mapping&gt;
 </pre></blockquote>
 </p>

 <p>
 If you want the reference to be optionally <code>null</code>, then you'll also need to add a <code>test-method</code>:
 <blockquote><pre>
      <b>private boolean hasEmployeeOfTheWeek() {
          return this.getEmployeeOfTheWeek() != null;
      }</b>

      &lt;structure name="EmployeeOfTheWeek" <b>usage="optional" test-method="hasEmployeeOfTheWeek"</b>&gt;
          &lt;structure name="Person"&gt;
              &lt;value name="idref" style="attribute" field="employeeOfTheWeek"
                serializer="org.dellroad.stuff.jibx.ParseUtil.serializeReference"
                deserializer="com.example.Employee.deserializeEmployeeReference"/&gt;
          &lt;/structure&gt;
      &lt;/structure&gt;
 </pre></blockquote>
 This approach causes the whole <code>&lt;EmployeeOfTheWeek&gt;</code> element to disappear when there is no
 such employee. Alternately, you can avoid the need for the <code>test-method</code> if you want to allow
 just the attribute to disappear, or you could even change from <code>style="attribute"</code> to <code>style="element"</code>;
 in both cases you would be making the reference itself optional instead of the containing element.
 </p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/jibx/IdMappingMarshaller.html" title="class in org.dellroad.stuff.jibx"><CODE>IdMappingMarshaller</CODE></A></DL>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#IdMapper(java.lang.String, int, java.lang.String, java.lang.String)">IdMapper</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;uri,
                 int&nbsp;index,
                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name,
                 <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;className)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#formatId(long)">formatId</A></B>(long&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Format the unique ID.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#getAttributeName()">getAttributeName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the ID reference attribute name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#getId(java.lang.Object)">getId</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the unique ID value for the given object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#getIdValue(java.lang.Object)">getIdValue</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the unique ID for the given object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#marshal(java.lang.Object, org.jibx.runtime.IMarshallingContext)">marshal</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj,
               <A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/IMarshallingContext.html?is-external=true" title="class or interface in org.jibx.runtime">IMarshallingContext</A>&nbsp;ictx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Overrides superclass to use object equality instead of <code>Object.equals()</code> for sanity checking.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#parseId(java.lang.String)">parseId</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;idref)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Parse the unique ID value assigned to the given object by <A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#getId(java.lang.Object)"><CODE>getId()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#setId(java.lang.Object, java.lang.String)">setId</A></B>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj,
           <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;idref)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the unique ID value for the given object.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.jibx.extras.IdDefRefMapperBase"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class org.jibx.extras.<A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true" title="class or interface in org.jibx.extras">IdDefRefMapperBase</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true#isExtension(java.lang.String)" title="class or interface in org.jibx.extras">isExtension</A>, <A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true#isPresent(org.jibx.runtime.IUnmarshallingContext)" title="class or interface in org.jibx.extras">isPresent</A>, <A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true#unmarshal(java.lang.Object, org.jibx.runtime.IUnmarshallingContext)" title="class or interface in org.jibx.extras">unmarshal</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="IdMapper(java.lang.String, int, java.lang.String, java.lang.String)"><!-- --></A><H3>
IdMapper</H3>
<PRE>
public <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.224"><B>IdMapper</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;uri,
                int&nbsp;index,
                <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;name,
                <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;className)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getId(java.lang.Object)"><!-- --></A><H3>
getId</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.242"><B>getId</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj)</PRE>
<DL>
<DD>Get the unique ID value for the given object.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html" title="class in org.dellroad.stuff.jibx"><CODE>IdMapper</CODE></A> formats an ID of the form <code>N012345</code>
 using the <A HREF="../../../../org/dellroad/stuff/java/IdGenerator.html" title="class in org.dellroad.stuff.java"><CODE>IdGenerator</CODE></A> acquired from <A HREF="../../../../org/dellroad/stuff/java/IdGenerator.html#get()"><CODE>IdGenerator.get()</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - any object
<DT><B>Returns:</B><DD>unique ID for the object</DL>
</DD>
</DL>
<HR>

<A NAME="setId(java.lang.Object, java.lang.String)"><!-- --></A><H3>
setId</H3>
<PRE>
public static void <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.259"><B>setId</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj,
                         <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;idref)</PRE>
<DL>
<DD>Set the unique ID value for the given object.

 <p>
 The implementation in <A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html" title="class in org.dellroad.stuff.jibx"><CODE>IdMapper</CODE></A> expects an ID of the form <code>N012345</code>,
 then associates the parsed <code>long</code> value with the given object
 using the <A HREF="../../../../org/dellroad/stuff/java/IdGenerator.html" title="class in org.dellroad.stuff.java"><CODE>IdGenerator</CODE></A> acquired from <A HREF="../../../../org/dellroad/stuff/java/IdGenerator.html#get()"><CODE>IdGenerator.get()</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>obj</CODE> - object to register<DD><CODE>idref</CODE> - string ID assigned to the object
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>idref</code> is not of the form <code>N012345</code>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>idref</code> is already associated with a different object</DL>
</DD>
</DL>
<HR>

<A NAME="formatId(long)"><!-- --></A><H3>
formatId</H3>
<PRE>
public static <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.269"><B>formatId</B></A>(long&nbsp;id)</PRE>
<DL>
<DD>Format the unique ID.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>id</CODE> - ID value
<DT><B>Returns:</B><DD>formatted idref</DL>
</DD>
</DL>
<HR>

<A NAME="parseId(java.lang.String)"><!-- --></A><H3>
parseId</H3>
<PRE>
public static long <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.280"><B>parseId</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A>&nbsp;idref)</PRE>
<DL>
<DD>Parse the unique ID value assigned to the given object by <A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#getId(java.lang.Object)"><CODE>getId()</CODE></A>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>idref</CODE> - ID value assigned to the object
<DT><B>Returns:</B><DD>parse ID number
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - if <code>idref</code> is not of the form <code>N012345</code></DL>
</DD>
</DL>
<HR>

<A NAME="getIdValue(java.lang.Object)"><!-- --></A><H3>
getIdValue</H3>
<PRE>
protected <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.295"><B>getIdValue</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj)</PRE>
<DL>
<DD>Get the unique ID for the given object. Delegates to <A HREF="../../../../org/dellroad/stuff/jibx/IdMapper.html#getId(java.lang.Object)"><CODE>getId()</CODE></A>.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true#getIdValue(java.lang.Object)" title="class or interface in org.jibx.extras">getIdValue</A></CODE> in class <CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true" title="class or interface in org.jibx.extras">IdDefRefMapperBase</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAttributeName()"><!-- --></A><H3>
getAttributeName</H3>
<PRE>
protected <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.303"><B>getAttributeName</B></A>()</PRE>
<DL>
<DD>Get the ID reference attribute name. Default is <code>"idref"</code>.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true#getAttributeName()" title="class or interface in org.jibx.extras">getAttributeName</A></CODE> in class <CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true" title="class or interface in org.jibx.extras">IdDefRefMapperBase</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="marshal(java.lang.Object, org.jibx.runtime.IMarshallingContext)"><!-- --></A><H3>
marshal</H3>
<PRE>
public void <A HREF="../../../../src-html/org/dellroad/stuff/jibx/IdMapper.html#line.312"><B>marshal</B></A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A>&nbsp;obj,
                    <A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/IMarshallingContext.html?is-external=true" title="class or interface in org.jibx.runtime">IMarshallingContext</A>&nbsp;ictx)
             throws <A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/JiBXException.html?is-external=true" title="class or interface in org.jibx.runtime">JiBXException</A></PRE>
<DL>
<DD>Overrides superclass to use object equality instead of <code>Object.equals()</code> for sanity checking.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/IMarshaller.html?is-external=true#marshal(java.lang.Object, org.jibx.runtime.IMarshallingContext)" title="class or interface in org.jibx.runtime">marshal</A></CODE> in interface <CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/IMarshaller.html?is-external=true" title="class or interface in org.jibx.runtime">IMarshaller</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true#marshal(java.lang.Object, org.jibx.runtime.IMarshallingContext)" title="class or interface in org.jibx.extras">marshal</A></CODE> in class <CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/extras/IdDefRefMapperBase.html?is-external=true" title="class or interface in org.jibx.extras">IdDefRefMapperBase</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="http://jibx.sourceforge.net/api/org/jibx/runtime/JiBXException.html?is-external=true" title="class or interface in org.jibx.runtime">JiBXException</A></CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/IdMapper.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/jibx/IdMappingMarshaller.html" title="class in org.dellroad.stuff.jibx"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/jibx/IdMapper.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="IdMapper.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
