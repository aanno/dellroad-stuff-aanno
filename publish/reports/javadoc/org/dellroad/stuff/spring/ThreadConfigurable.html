<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_33) on Tue Aug 28 14:48:07 CDT 2012 -->
<TITLE>
ThreadConfigurable (Java Class Library API)
</TITLE>

<META NAME="date" CONTENT="2012-08-28">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ThreadConfigurable (Java Class Library API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ThreadConfigurable.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/dellroad/stuff/spring/ResourceReaderFactoryBean.html" title="class in org.dellroad.stuff.spring"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurableObject.html" title="interface in org.dellroad.stuff.spring"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/spring/ThreadConfigurable.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ThreadConfigurable.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;REQUIRED&nbsp;|&nbsp;<A HREF="#annotation_type_optional_element_summary">OPTIONAL</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#annotation_type_element_detail">ELEMENT</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.dellroad.stuff.spring</FONT>
<BR>
Annotation Type ThreadConfigurable</H2>
<HR>
<DL>
<DT><PRE><FONT SIZE="-1"><A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/Retention.html?is-external=true" title="class or interface in java.lang.annotation">@Retention</A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/Retention.html?is-external=true#value()" title="class or interface in java.lang.annotation">value</A>=<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/RetentionPolicy.html?is-external=true#RUNTIME" title="class or interface in java.lang.annotation">RUNTIME</A>)
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/Target.html?is-external=true" title="class or interface in java.lang.annotation">@Target</A>(<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/Target.html?is-external=true#value()" title="class or interface in java.lang.annotation">value</A>=<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/ElementType.html?is-external=true#TYPE" title="class or interface in java.lang.annotation">TYPE</A>)
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/Documented.html?is-external=true" title="class or interface in java.lang.annotation">@Documented</A>
<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/annotation/Inherited.html?is-external=true" title="class or interface in java.lang.annotation">@Inherited</A>
</FONT>public @interface <A HREF="../../../../src-html/org/dellroad/stuff/spring/ThreadConfigurable.html#line.97"><B>ThreadConfigurable</B></A></DL>
</PRE>

<P>
Indicates that the class is a candidate for configuration using the <code>ThreadConfigurableAspect</code> aspect.

 <p>
 Works just like Spring's <A HREF="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/annotation/Configurable.html?is-external=true" title="class or interface in org.springframework.beans.factory.annotation"><CODE>@Configurable</CODE></A> annotation,
 but whereas <A HREF="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/annotation/Configurable.html?is-external=true" title="class or interface in org.springframework.beans.factory.annotation"><CODE>@Configurable</CODE></A> autowires using a fixed
 application context stored in a static variable, <A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><CODE>@ThreadConfigurable</CODE></A> autowires using an
 application context that is configurable on a per-thread basis (or more generally, any way you want). This allows the
 same <A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><CODE>@ThreadConfigurable</CODE></A>-annotated beans to be instantiated and autowired by different
 application contexts at the same time, where the application context chosen depends on the thread in which
 the instantiation is occurring. This is useful when creating multiple "parallel universe" application contexts
 within the same application.
 </p>

 <p>
 The configuring application context is determined by the singleton <A HREF="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring"><CODE>ThreadLocalContext</CODE></A> instance,
 i.e., it's the value returned by invoking <A HREF="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html#getInstance()"><CODE>ThreadLocalContext.getInstance()</CODE></A> to get the singleton
 <A HREF="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring"><CODE>ThreadLocalContext</CODE></A> instance, and then <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/ThreadLocal.html?is-external=true#get()" title="class or interface in java.lang"><CODE>ThreadLocalContext.get()</CODE></A> to get the application context associated with the current thread.
 </p>

 <p>
 With <A HREF="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring"><CODE>ThreadLocalContext</CODE></A> the configured application context is inherited by spawned child threads,
 so typically this configuration need only be done once when starting new some process or operation,
 even if that operation creates multiple threads.
 </p>

 <p>
 For example:
  <blockquote><pre>
  new Thread("context startup") {
      &#64;Override
      public void run() {

          // Setup the context used by &#64;ThreadConfigurable beans created in this thread;
          // to be safe, configure the ThreadLocalContext before refreshing the context.
          ConfigurableApplicationContext context = new ClassPathXmlApplicationContext(
            new String[] { "applicationContext.xml" }, false);
          ThreadLocalContext.getInstance().set(context);
          context.refresh();

          // Now &#64;ThreadConfigurable beans will use "context" for autowiring, but only
          // if they are created in this thread (or one of its child threads).
          new SomeThreadConfigurableBean() ...
      }
  }.start();
  </pre></blockquote>

 <p>
 Note: to make this annotation behave like Spring's
 <A HREF="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/annotation/Configurable.html?is-external=true" title="class or interface in org.springframework.beans.factory.annotation"><CODE>@Configurable</CODE></A> annotation, include the
 <A HREF="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring"><CODE>ThreadLocalContext</CODE></A> singleton instance in your bean factory:
 <blockquote><pre>
     &lt;bean class="org.dellroad.stuff.spring.ThreadLocalContext" factory-method="getInstance"/&gt;
 </pre></blockquote>
 This will set the containing application context as the default for the singleton. This definition should be
 listed prior to any other bean definitions that could result in <A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><CODE>@ThreadConfigurable</CODE></A>-annotated
 beans being created during bean factory startup.
 </p>

 <p>
 Note: if a <A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html" title="annotation in org.dellroad.stuff.spring"><CODE>@ThreadConfigurable</CODE></A>-annotated bean is constructed and no application context
 has been configured for the current thread, and there is no default set, then no configuration is performed
 and a debug message is logged (to logger <code>org.dellroad.stuff.spring.ThreadConfigurableAspect</code>); this consistent
 with the behavior of Spring's <A HREF="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/annotation/Configurable.html?is-external=true" title="class or interface in org.springframework.beans.factory.annotation"><CODE>@Configurable</CODE></A>.
 </p>

 <p>
 Running the AspectJ compiler on your annotated classes is required to activate this annotation.
 </p>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/dellroad/stuff/spring/ThreadLocalContext.html" title="class in org.dellroad.stuff.spring"><CODE>ThreadLocalContext</CODE></A>, 
<A HREF="../../../../org/dellroad/stuff/spring/ThreadTransactional.html" title="annotation in org.dellroad.stuff.spring"><CODE>ThreadTransactional</CODE></A></DL>
<HR>

<P>
<!-- =========== ANNOTATION TYPE OPTIONAL MEMBER SUMMARY =========== -->

<A NAME="annotation_type_optional_element_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Optional Element Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/annotation/Autowire.html?is-external=true" title="class or interface in org.springframework.beans.factory.annotation">Autowire</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html#autowire()">autowire</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether and how to automatically autowire dependencies.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html#dependencyCheck()">dependencyCheck</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether to enable dependency checking.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html#preConstruction()">preConstruction</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Whether to inject dependencies prior to constructor execution.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurable.html#value()">value</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Configuration bean definition template name, if any.</TD>
</TR>
</TABLE>
&nbsp;
<P>
<A NAME="value()"><!-- --></A><H3>
value</H3>
<PRE>
public abstract <A HREF="http://download.oracle.com/javase/6/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</A> <A HREF="../../../../src-html/org/dellroad/stuff/spring/ThreadConfigurable.html#line.102"><B>value</B></A></PRE>
<DL>
<DD>Configuration bean definition template name, if any.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
<DL>
<DT><B>Default:</B><DD>""</DD>
</DL>
</DL>
<HR>

<A NAME="autowire()"><!-- --></A><H3>
autowire</H3>
<PRE>
public abstract <A HREF="http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/beans/factory/annotation/Autowire.html?is-external=true" title="class or interface in org.springframework.beans.factory.annotation">Autowire</A> <A HREF="../../../../src-html/org/dellroad/stuff/spring/ThreadConfigurable.html#line.107"><B>autowire</B></A></PRE>
<DL>
<DD>Whether and how to automatically autowire dependencies.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
<DL>
<DT><B>Default:</B><DD>org.springframework.beans.factory.annotation.Autowire.NO</DD>
</DL>
</DL>
<HR>

<A NAME="dependencyCheck()"><!-- --></A><H3>
dependencyCheck</H3>
<PRE>
public abstract boolean <A HREF="../../../../src-html/org/dellroad/stuff/spring/ThreadConfigurable.html#line.112"><B>dependencyCheck</B></A></PRE>
<DL>
<DD>Whether to enable dependency checking.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
<DL>
<DT><B>Default:</B><DD>false</DD>
</DL>
</DL>
<HR>

<A NAME="preConstruction()"><!-- --></A><H3>
preConstruction</H3>
<PRE>
public abstract boolean <A HREF="../../../../src-html/org/dellroad/stuff/spring/ThreadConfigurable.html#line.117"><B>preConstruction</B></A></PRE>
<DL>
<DD>Whether to inject dependencies prior to constructor execution.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
<DL>
<DT><B>Default:</B><DD>false</DD>
</DL>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ThreadConfigurable.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/dellroad/stuff/spring/ResourceReaderFactoryBean.html" title="class in org.dellroad.stuff.spring"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/dellroad/stuff/spring/ThreadConfigurableObject.html" title="interface in org.dellroad.stuff.spring"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/dellroad/stuff/spring/ThreadConfigurable.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ThreadConfigurable.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;REQUIRED&nbsp;|&nbsp;<A HREF="#annotation_type_optional_element_summary">OPTIONAL</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#annotation_type_element_detail">ELEMENT</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
